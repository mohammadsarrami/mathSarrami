<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ø²Ù…ÙˆÙ† Ù‡ÙˆØ´ Ùˆ Ø®Ù„Ø§Ù‚ÛŒØª Ø±ÛŒØ§Ø¶ÛŒ</title>
    <!-- ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ÙÙˆÙ†Øª ÙˆØ²ÛŒØ±Ù…ØªÙ† Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø²ÛŒØ¨Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <!-- Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f0f4f8;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 700px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        h1, h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            transition: background 0.3s;
            margin-top: 15px;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }

        input[type="text"] {
            padding: 12px;
            width: 70%;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 16px;
            text-align: center;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ ØªØ§ÛŒÙ…Ø± */
        #timer-box {
            background: #e74c3c;
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            display: inline-block;
            font-weight: bold;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø³ÙˆØ§Ù„Ø§Øª */
        .question-box {
            text-align: right;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.8;
            background: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            border-right: 5px solid #3498db;
        }

        .options-grid {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #bdc3c7;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 16px;
            transition: all 0.2s;
            text-align: right;
        }

        .option-btn:hover {
            background: #ecf0f1;
            border-color: #3498db;
        }

        .option-btn.selected {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø±ÙˆØ± Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ */
        .review-item {
            text-align: right;
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            background: #fafafa;
        }

        .review-question {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .review-option {
            padding: 8px;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 14px;
        }

        .correct-answer {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .wrong-answer {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-message {
            margin-top: 15px;
            font-weight: bold;
            color: #e67e22;
        }

        /* ØµÙØ­Ø§Øª Ù…Ø®ÙÛŒ */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ -->
    <div class="container" id="start-screen">
        <h1>Ø¢Ø²Ù…ÙˆÙ† Ù‡ÙˆØ´ Ùˆ Ø®Ù„Ø§Ù‚ÛŒØª Ø±ÛŒØ§Ø¶ÛŒ ğŸ§ </h1>
        <p>Ø³Ù„Ø§Ù… Ù‚Ù‡Ø±Ù…Ø§Ù†! Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø®ÙˆØ¯Øª Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†:</p>
        <input type="text" id="student-name" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ">
        <br>
        <button class="btn" onclick="startQuiz()">Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†</button>
    </div>

    <!-- ØµÙØ­Ù‡ Ø¢Ø²Ù…ÙˆÙ† -->
    <div class="container hidden" id="quiz-screen">
        <div id="timer-box">Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: <span id="time-display">17:00</span></div>
        
        <div id="question-container">
            <!-- Ø³ÙˆØ§Ù„Ø§Øª Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        </div>

        <button class="btn" id="next-btn" onclick="nextQuestion()">Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ</button>
    </div>

    <!-- ØµÙØ­Ù‡ Ù†ØªØ§ÛŒØ¬ -->
    <div class="container hidden" id="result-screen">
        <h2>ğŸ Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ†</h2>
        <h3 id="final-score"></h3>
        <p id="email-status" class="status-message">Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…Ø±Ù‡ Ø¨Ù‡ Ù…Ø¹Ù„Ù…...</p>
        
        <hr>
        <h3>Ù…Ø±ÙˆØ± Ù¾Ø§Ø³Ø®â€ŒÙ†Ø§Ù…Ù‡ ØªØ´Ø±ÛŒØ­ÛŒ</h3>
        <div id="review-container">
            <!-- Ù…Ø±ÙˆØ± Ø³ÙˆØ§Ù„Ø§Øª Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
        </div>
    </div>

    <script>
        // --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø¹Ù„Ù… ---
        const PUBLIC_KEY = "DK8m8s8ukQGrLJ77b"; 
        const SERVICE_ID = "service_ij2ol5e";
        const TEMPLATE_ID = "template_fvuuxeh"; // Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÛŒØ¯ Ø´Ù…Ø§
        const EXAM_TIME_MINUTES = 17; // Ø²Ù…Ø§Ù† 17 Ø¯Ù‚ÛŒÙ‚Ù‡

        // --- Ø³ÙˆØ§Ù„Ø§Øª (Ø·Ø¨Ù‚ Ù…ØªÙ† Ø§Ø±Ø³Ø§Ù„ÛŒ Ø´Ù…Ø§) ---
        const questions = [
            {
                text: "1- Ø¯ÙˆØ³ØªØ§Ù†ÛŒ Ø¨Ù‡ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø¹Ù„ÛŒØ±Ø¶Ø§ØŒ Ø§Ù…ÛŒØ±ØŒ Ø³Ø¹ÛŒØ¯ Ùˆ Ø§Ø­Ù…Ø¯ Ø¯Ø± Ù…Ø³Ø§Ø¨Ù‚Ø§Øª ØªÙ†ÛŒØ³ Ø±ÙˆÛŒ Ù…ÛŒØ² Ø´Ø±Ú©Øª Ú©Ø±Ø¯Ù†Ø¯. Ø¢Ù†â€ŒÙ‡Ø§ ØªØµÙ…ÛŒÙ… Ú¯Ø±ÙØªÙ†Ø¯ Ø¨Ø§ ÙˆØ§Ù„Ø¯ÛŒÙ† Ø®ÙˆØ¯ Ø´ÙˆØ®ÛŒ Ú©Ù†Ù†Ø¯ Ùˆ Ù‡Ø± Ú©Ø¯Ø§Ù… Ù†ÛŒÙ…ÛŒ Ø§Ø² Ø­Ù‚ÛŒÙ‚Øª Ø±Ø§ Ø¨Ú¯ÙˆÛŒÙ†Ø¯ (ÛŒÚ© Ú¯Ø²Ø§Ø±Ù‡ Ø¯Ø±Ø³ØªØŒ ÛŒÚ© Ú¯Ø²Ø§Ø±Ù‡ Ù†Ø§Ø¯Ø±Ø³Øª). Ú¯Ø²Ø§Ø±Ù‡â€ŒÙ‡Ø§:\n- Ø¹Ù„ÛŒ: Ø³Ø¹ÛŒØ¯ Ø¯ÙˆÙ… Ø´Ø¯ Ùˆ Ù…Ù† Ø³ÙˆÙ… Ø´Ø¯Ù….\n- Ø±Ø¶Ø§: Ù…Ù† Ø§ÙˆÙ„ Ø´Ø¯Ù… ÙˆÙ„ÛŒ Ø§Ù…ÛŒØ± Ø¯ÙˆÙ… Ø´Ø¯.\n- Ø§Ù…ÛŒØ±: Ù…Ù† Ù…Ù‚Ø§Ù… Ø³ÙˆÙ… Ø±Ø§ Ú©Ø³Ø¨ Ú©Ø±Ø¯Ù… Ø§Ù…Ø§ Ø±Ø¶Ø§ Ø¢Ø®Ø± Ø´Ø¯.\n- Ø³Ø¹ÛŒØ¯: Ù…Ù† Ø¯ÙˆÙ… Ø´Ø¯Ù… Ùˆ Ø§Ø­Ù…Ø¯ Ú†Ù‡Ø§Ø±Ù… Ø´Ø¯.\n- Ø§Ø­Ù…Ø¯: Ù…Ù† Ú†Ù‡Ø§Ø±Ù… Ø´Ø¯Ù… Ø§Ù…Ø§ Ø¹Ù„ÛŒ Ø®ÙˆØ´â€ŒØ´Ø§Ù†Ø³ Ø¨ÙˆØ¯ Ùˆ Ø§ÙˆÙ„ Ø´Ø¯.\nÚ©Ø¯Ø§Ù… Ø¹Ø¨Ø§Ø±Øª Ø¯Ø±Ø³Øª Ø§Ø³ØªØŸ",
                options: ["1) Ø³Ø¹ÛŒØ¯ Ø§ÙˆÙ„ Ùˆ Ø§Ù…ÛŒØ± Ø¯ÙˆÙ… Ø´Ø¯", "2) Ø¹Ù„ÛŒ Ø§ÙˆÙ„ Ùˆ Ø§Ù…ÛŒØ± Ø¯ÙˆÙ… Ø´Ø¯", "3) Ø³Ø¹ÛŒØ¯ Ø§ÙˆÙ„ Ùˆ Ø§Ø­Ù…Ø¯ Ø¯ÙˆÙ… Ø´Ø¯", "4) Ø±Ø¶Ø§ Ø§ÙˆÙ„ Ùˆ Ø³Ø¹ÛŒØ¯ Ø¯ÙˆÙ… Ø´Ø¯"],
                correct: 0 // Ú¯Ø²ÛŒÙ†Ù‡ 1
            },
            {
                text: "2- Ø§Ú¯Ø± ÙÙ‚Ø· ÛŒÚ© Ù†ÙØ± Ø§Ø² Ø¨ÛŒÙ† Ø§ÛŒÙ† Ø³Ù‡ Ù†ÙØ± Ø±Ø§Ø³Øª Ú¯ÙØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¢Ù‚Ø§ÛŒ Ø¹Ø²ÛŒØ²ÛŒ Ú†Ù†Ø¯ ÙØ±Ø²Ù†Ø¯ Ø¯Ø§Ø±Ø¯ØŸ\n- Ø´Ø®Øµ Ø§ÙˆÙ„: Ø¢Ù‚Ø§ÛŒ Ø¹Ø²ÛŒØ²ÛŒ Ø­Ø¯Ø§Ù‚Ù„ Ûµ ÙØ±Ø²Ù†Ø¯ Ø¯Ø§Ø±Ø¯.\n- Ø´Ø®Øµ Ø¯ÙˆÙ…: Ù†Ù‡ Ø§Ùˆ Ú©Ù…ØªØ± Ø§Ø² Ûµ ÙØ±Ø²Ù†Ø¯ Ø¯Ø§Ø±Ø¯.\n- Ø´Ø®Øµ Ø³ÙˆÙ…: Ù…Ù† Ù…Ø·Ù…Ø¦Ù†Ù… Ú©Ù‡ Ø¢Ù‚Ø§ÛŒ Ø¹Ø²ÛŒØ²ÛŒ Ø¯Ø³Øªâ€ŒÚ©Ù… ÛŒÚ© ÙØ±Ø²Ù†Ø¯ Ø¯Ø§Ø±Ø¯.",
                options: ["Û±) Ø¨ÛŒÙ† ÛŒÚ© ØªØ§ Ûµ ÙØ±Ø²Ù†Ø¯", "Û²) ÙØ±Ø²Ù†Ø¯ÛŒ Ù†Ø¯Ø§Ø±Ø¯", "Û³) ÛŒÚ© ÙØ±Ø²Ù†Ø¯", "Û´) Ûµ ÙØ±Ø²Ù†Ø¯"],
                correct: 1 // Ú¯Ø²ÛŒÙ†Ù‡ 2
            },
            {
                text: "3- Ù…ÛŒÙ†Ø§ØŒ Ø§Ø­Ù…Ø¯ØŒ Ø³Ø§Ø±Ø§ Ùˆ Ø±Ø¶Ø§ Ø¨Ø±Ø§ÛŒ ØµØ¨Ø­Ø§Ù†Ù‡ Ù‡Ø± ÛŒÚ© ØºØ°Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø®ÙˆØ±Ø¯Ù†Ø¯ (Ú©Ø±Ù‡ØŒ Ø°Ø±ØªØŒ Ø´ÛŒØ± Ùˆ ØªØ®Ù…â€ŒÙ…Ø±Øº). Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§ØŒ Ú†Ù‡ Ú©Ø³ÛŒ Ø°Ø±Øª Ø®ÙˆØ±Ø¯Ù‡ Ùˆ Ú†Ù‡ Ú©Ø³ÛŒ Ø³Ù…Øª Ø±Ø§Ø³Øª Ù…ÛŒÙ†Ø§ Ù†Ø´Ø³ØªÙ‡ Ø§Ø³ØªØŸ\n- Ù…ÛŒÙ†Ø§ Ù†Ø²Ø¯ Ø¨Ø±Ø§Ø¯Ø± Ø®ÙˆØ¯ Ú©Ù‡ Ø´ÛŒØ± Ø®ÙˆØ±Ø¯ Ù†Ù†Ø´Ø³ØªÙ‡ Ø¨ÙˆØ¯.\n- Ø®ÙˆØ§Ù‡Ø±ÛŒ Ú©Ù‡ ØªØ®Ù…â€ŒÙ…Ø±Øº Ø®ÙˆØ±Ø¯ØŒ Ø¯Ø± Ø³Ù…Øª Ú†Ù¾ Ù…ÛŒÙ†Ø§ Ù†Ø´Ø³ØªÙ‡ Ø¨ÙˆØ¯.\n- Ø±Ø¶Ø§ Ø´ÛŒØ± ÛŒØ§ Ø°Ø±Øª Ù†Ø®ÙˆØ±Ø¯.",
                options: ["1) Ù…ÛŒÙ†Ø§ - Ø§Ø­Ù…Ø¯", "2) Ø§Ø­Ù…Ø¯ - Ø±Ø¶Ø§", "3) Ù…ÛŒÙ†Ø§ - Ø±Ø¶Ø§", "4) Ø§Ø­Ù…Ø¯ - Ø³Ø§Ø±Ø§"],
                correct: 2 // Ú¯Ø²ÛŒÙ†Ù‡ 3
            },
            {
                text: "4- ÛŒÚ© Ú©Ø´Ø§ÙˆØ±Ø² Ø³Ù‡ Ù†ÙˆØ¹ Ø§Ø² Ù¾Ù†Ø¬ Ù†ÙˆØ¹ Ù…Ø­ØµÙˆÙ„ (Ù„ÙˆØ¨ÛŒØ§ØŒ Ø°Ø±ØªØŒ Ú©Ù„Ù…ØŒ Ú©Ø¯Ùˆ Ùˆ Ù†Ø®ÙˆØ¯) Ø±Ø§ Ù‡Ø± Ø³Ø§Ù„ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø²ÛŒØ± Ù…ÛŒâ€ŒÚ©Ø§Ø±Ø¯:\n- Ø§Ú¯Ø± Ø°Ø±Øª Ø¨Ú©Ø§Ø±Ø¯ Ø­ØªÙ…Ø§Ù‹ Ù„ÙˆØ¨ÛŒØ§ Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ø§Ø±Ø¯.\n- Ø¯Ø± Ù‡ÛŒÚ† Ø¯Ùˆ Ø³Ø§Ù„ Ù…ØªÙˆØ§Ù„ÛŒ Ú©Ù„Ù… Ú©Ø´Øª Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.\n- Ø¯Ø± Ù‡Ø± Ø³Ø§Ù„ Ø¨ÛŒØ´ Ø§Ø² ÛŒÚ© Ù…Ø­ØµÙˆÙ„ Ø³Ø§Ù„ Ù‚Ø¨Ù„ Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ú©Ø´Øª Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.\nØ§Ú¯Ø± Ø³Ø§Ù„ Ø§ÙˆÙ„ (Ù„ÙˆØ¨ÛŒØ§ØŒ Ø°Ø±Øª Ùˆ Ú©Ù„Ù…) Ø¨Ú©Ø§Ø±Ø¯ØŒ Ø³Ø§Ù„ Ø³ÙˆÙ… Ú†Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ú©Ø§Ø±Ø¯ØŸ",
                options: ["1) Ù†Ø®ÙˆØ¯ØŒ Ø°Ø±ØªØŒ Ù„ÙˆØ¨ÛŒØ§", "2) Ú©Ù„Ù…ØŒ Ù†Ø®ÙˆØ¯ØŒ Ú©Ø¯Ùˆ", "3) Ú©Ø¯ÙˆØŒ Ù†Ø®ÙˆØ¯ØŒ Ù„ÙˆØ¨ÛŒØ§", "4) Ú©Ù„Ù…ØŒ Ø°Ø±ØªØŒ Ù„ÙˆØ¨ÛŒØ§"],
                correct: 2 // Ú¯Ø²ÛŒÙ†Ù‡ 3
            },
            {
                text: "5- ÛŒÚ©ÛŒ Ø§Ø² Ø´Ø´ ÙØ±Ø²Ù†Ø¯ ÛŒÚ© Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ú¯Ù„Ø¯Ø§Ù†ÛŒ Ø±Ø§ Ø´Ú©Ø³ØªÙ‡ Ø§Ø³Øª. ÙÙ‚Ø· ÛŒÚ© Ù†ÙØ± Ø¯Ø±ÙˆØº Ú¯ÙØªÙ‡ Ø§Ø³Øª. Ú†Ù‡ Ú©Ø³ÛŒ Ú¯Ù„Ø¯Ø§Ù† Ø±Ø§ Ø´Ú©Ø³ØªÙ‡ØŸ\n- ÙØ±Ø²Ù†Ø¯ Ø§ÙˆÙ„: ÙØ±Ø²Ù†Ø¯ Ø´Ø´Ù… Ú¯Ù„Ø¯Ø§Ù† Ø±Ø§ Ù†Ø´Ú©Ø³ØªÙ‡ Ø§Ø³Øª.\n- ÙØ±Ø²Ù†Ø¯ Ø¯ÙˆÙ…: ÙØ±Ø²Ù†Ø¯ Ù¾Ù†Ø¬Ù… Ú¯Ù„Ø¯Ø§Ù† Ø±Ø§ Ø´Ú©Ø³ØªÙ‡.\n- ÙØ±Ø²Ù†Ø¯ Ø³ÙˆÙ…: ÙØ±Ø²Ù†Ø¯ Ú†Ù‡Ø§Ø±Ù… ÛŒØ§ Ù¾Ù†Ø¬Ù… Ú¯Ù„Ø¯Ø§Ù† Ø±Ø§ Ø´Ú©Ø³ØªÙ‡ Ø§Ø³Øª.\n- ÙØ±Ø²Ù†Ø¯ Ú†Ù‡Ø§Ø±Ù…: ÙØ±Ø²Ù†Ø¯ Ø¯ÙˆÙ… Ø¯Ø±ÙˆØº Ù…ÛŒâ€ŒÚ¯ÙˆÛŒØ¯.",
                options: ["1) ÙØ±Ø²Ù†Ø¯ Ø¯ÙˆÙ…", "2) ÙØ±Ø²Ù†Ø¯ Ù¾Ù†Ø¬Ù…", "3) ÙØ±Ø²Ù†Ø¯ Ø³ÙˆÙ…", "4) ÙØ±Ø²Ù†Ø¯ Ú†Ù‡Ø§Ø±Ù…"],
                correct: 3 // Ú¯Ø²ÛŒÙ†Ù‡ 4
            },
            {
                text: "6- Ø¹Ø¯Ø¯ Ø¯Ù‡Ù… Ø§Ù„Ú¯Ùˆ Ú©Ø¯Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ø³ØªØŸ\n20, 32, 48, 68, ...",
                options: ["Ø§Ù„Ù) 272", "Ø¨) 270", "Ø¬) 264", "Ø¯) 268"],
                correct: 0 // Ú¯Ø²ÛŒÙ†Ù‡ 1
            },
            {
                text: "7- Ø§Ú¯Ø± ÛŒÚ© Ù¾Ø§Ø±Ù‡â€ŒØ®Ø· 3 Ù†Ù‚Ø·Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ Ùˆ Ù¾Ø§Ø±Ù‡â€ŒØ®Ø· Ø¯ÛŒÚ¯Ø± 4 Ù†Ù‚Ø·Ù‡ Ø¨Ø§Ø´Ø¯. Ø§Ú¯Ø± Ø§ÛŒÙ† Ù†Ù‚Ø§Ø· Ø±Ø§ Ø¨Ù‡ Ù‡Ù… ÙˆØµÙ„ Ú©Ù†ÛŒÙ…ØŒ Ø­Ø§Ù„Ø§ Ú†Ù†Ø¯ Ù¾Ø§Ø±Ù‡â€ŒØ®Ø· Ø¯Ø§Ø±ÛŒÙ…ØŸ",
                options: ["Ø§Ù„Ù) 18", "Ø¨) 21", "Ø¬) 24", "Ø¯) 28"],
                correct: 1 // Ú¯Ø²ÛŒÙ†Ù‡ 2
            },
            {
                text: "8- Ø§Ú¯Ø± Ø±ÙˆÛŒ Ø®Ø·ÛŒ 10 Ù†Ù‚Ø·Ù‡ Ù…Ø´Ø®Øµ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…ØŒ Ø­Ø§Ù„Ø§ Ø§Ú¯Ø± 4 Ù†Ù‚Ø·Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ø§ÛŒÙ† Ù†Ù‚Ø§Ø· Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒÙ… Ø¨Ù‡ ØªØ¹Ø¯Ø§Ø¯ Ù¾Ø§Ø±Ù‡â€ŒØ®Ø·â€ŒÙ‡Ø§ Ú†Ù‚Ø¯Ø± Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",
                options: ["Ø§Ù„Ù) 46", "Ø¨) 45", "Ø¬) 35", "Ø¯) 36"],
                correct: 0 // Ú¯Ø²ÛŒÙ†Ù‡ 1
            },
            {
                text: "9- Ø¹Ù„ÛŒ Ø¯Ø±Ø®ØªÛŒ Ú©Ø§Ø´ØªÙ‡ Ú©Ù‡ Ù‡Ø± Ø³Ø§Ù„ Ø§Ø±ØªÙØ§Ø¹Ø´ Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø´Ø´ Ø³Ø§Ù„ Ø§Ø² Ú©Ø§Ø´Øª Ø§ÛŒÙ† Ø¯Ø±Ø®Øª Ù…ÛŒâ€ŒÚ¯Ø°Ø±Ø¯ØŒ Ø§Ú©Ù†ÙˆÙ† Ø§Ø±ØªÙØ§Ø¹ Ø¢Ù† 36 Ù…ØªØ± Ø§Ø³Øª. Ú†Ù†Ø¯ Ø³Ø§Ù„ Ø·ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ø´Ø¯ ØªØ§ Ø§ÛŒÙ† Ø¯Ø±Ø®Øª Ø¨Ù‡ Ù†ØµÙ Ø§ÛŒÙ† Ø§Ø±ØªÙØ§Ø¹ Ø¨Ø±Ø³Ø¯ØŸ",
                options: ["Ø§Ù„Ù) 2", "Ø¨) 3", "Ø¬) 4", "Ø¯) 5"],
                correct: 3 // Ú¯Ø²ÛŒÙ†Ù‡ 4
            },
            {
                text: "10- Ø¨ÛŒØ³ØªÙ…ÛŒÙ† Ø¹Ø¯Ø¯ Ù…Ø´ØªØ±Ú© Ø¯Ùˆ Ø§Ù„Ú¯Ùˆ Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ\nØ§Ù„Ú¯ÙˆÛŒ Ø§ÙˆÙ„: 3, 8, 13, 18, ...\nØ§Ù„Ú¯ÙˆÛŒ Ø¯ÙˆÙ…: 7, 13, 19, 25, ...",
                options: ["Ø§Ù„Ù) 617", "Ø¨) 583", "Ø¬) 600", "Ø¯) 634"],
                correct: 1 // Ú¯Ø²ÛŒÙ†Ù‡ 2
            }
        ];

        // --- Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… ---
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let timerInterval;
        let timeRemaining = EXAM_TIME_MINUTES * 60;
        let studentName = "";

        // Ø´Ø±ÙˆØ¹
        (function(){
            emailjs.init(PUBLIC_KEY);
        })();

        function startQuiz() {
            const nameInput = document.getElementById('student-name');
            if (nameInput.value.trim() === "") {
                alert("Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!");
                return;
            }
            studentName = nameInput.value.trim();
            
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            
            startTimer();
            loadQuestion();
        }

        function startTimer() {
            const display = document.getElementById('time-display');
            timerInterval = setInterval(() => {
                let minutes = Math.floor(timeRemaining / 60);
                let seconds = timeRemaining % 60;
                
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                
                display.textContent = minutes + ":" + seconds;

                if (--timeRemaining < 0) {
                    finishQuiz(true);
                }
            }, 1000);
        }

        function loadQuestion() {
            const container = document.getElementById('question-container');
            const q = questions[currentQuestionIndex];
            
            // Ø¯Ú©Ù…Ù‡ Ø¨Ø¹Ø¯ÛŒ/Ù¾Ø§ÛŒØ§Ù†
            const nextBtn = document.getElementById('next-btn');
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.textContent = "Ø«Ø¨Øª Ù†Ù‡Ø§ÛŒÛŒ Ùˆ Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ†";
                nextBtn.style.backgroundColor = "#27ae60";
            } else {
                nextBtn.textContent = "Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ";
                nextBtn.style.backgroundColor = "#3498db";
            }

            // Ø³Ø§Ø®Øª HTML Ø³ÙˆØ§Ù„
            let html = `
                <div class="question-box">
                    <div class="question-text">Ø³ÙˆØ§Ù„ ${currentQuestionIndex + 1}: ${q.text.replace(/\n/g, '<br>')}</div>
                    <div class="options-grid">
            `;

            q.options.forEach((opt, index) => {
                const isSelected = userAnswers[currentQuestionIndex] === index ? 'selected' : '';
                html += `<div class="option-btn ${isSelected}" onclick="selectOption(${index})">${opt}</div>`;
            });

            html += `</div></div>`;
            container.innerHTML = html;
        }

        function selectOption(optionIndex) {
            userAnswers[currentQuestionIndex] = optionIndex;
            loadQuestion(); // Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
        }

        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] === null) {
                alert("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.");
                return;
            }

            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                finishQuiz(false);
            }
        }

        function finishQuiz(isTimeOut) {
            clearInterval(timerInterval);
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            if (isTimeOut) {
                alert("Ø²Ù…Ø§Ù† Ø´Ù…Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!");
            }

            calculateAndShowResults();
        }

        function calculateAndShowResults() {
            let score = 0;
            let correctCount = 0;
            let wrongCount = 0;
            let emailDetails = "";

            questions.forEach((q, index) => {
                const userAns = userAnswers[index];
                const isCorrect = userAns === q.correct;
                
                if (isCorrect) {
                    score++;
                    correctCount++;
                } else {
                    wrongCount++;
                }

                // Ø³Ø§Ø®Øª Ù…ØªÙ† Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„
                let status = isCorrect ? "âœ… ØµØ­ÛŒØ­" : "âŒ ØºÙ„Ø·";
                let userText = userAns !== null ? q.options[userAns] : "Ø¨Ø¯ÙˆÙ† Ù¾Ø§Ø³Ø®";
                emailDetails += `Ø³ ${index + 1}: ${status} (Ù¾Ø§Ø³Ø® Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²: ${userText})\n`;
            });

            // Ù†Ù…Ø§ÛŒØ´ Ù†Ù…Ø±Ù‡ Ø¨Ù‡ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²
            const finalScoreElement = document.getElementById('final-score');
            finalScoreElement.textContent = `Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§: ${score} Ø§Ø² ${questions.length}`;

            // Ø±Ù†Ø¯Ø± Ú©Ø±Ø¯Ù† Ù…Ø±ÙˆØ± Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ (Review Mode)
            renderReview();

            // Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„
            sendResultsEmail(score, correctCount, wrongCount, emailDetails);
        }

        function renderReview() {
            const container = document.getElementById('review-container');
            let html = "";

            questions.forEach((q, index) => {
                const userAns = userAnswers[index];
                let optionsHtml = "";

                q.options.forEach((opt, optIndex) => {
                    let className = "review-option ";
                    
                    // Ù…Ù†Ø·Ù‚ Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ:
                    // Ø§Ú¯Ø± Ú¯Ø²ÛŒÙ†Ù‡ ØµØ­ÛŒØ­ Ø§Ø³Øª -> Ù‡Ù…ÛŒØ´Ù‡ Ø³Ø¨Ø² Ø´ÙˆØ¯
                    // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡ Ùˆ ØºÙ„Ø· Ø§Ø³Øª -> Ù‚Ø±Ù…Ø² Ø´ÙˆØ¯
                    
                    if (optIndex === q.correct) {
                        className += "correct-answer"; // Ø³Ø¨Ø² Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­
                        if (userAns === optIndex) className += " (Ù¾Ø§Ø³Ø® Ø´Ù…Ø§ âœ…)";
                    } else if (userAns === optIndex) {
                        className += "wrong-answer"; // Ù‚Ø±Ù…Ø² Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ ØºÙ„Ø·
                        className += " (Ù¾Ø§Ø³Ø® Ø´Ù…Ø§ âŒ)";
                    }

                    optionsHtml += `<div class="${className}">${opt}</div>`;
                });

                html += `
                    <div class="review-item">
                        <div class="review-question">Ø³ÙˆØ§Ù„ ${index + 1}: ${q.text.replace(/\n/g, '<br>')}</div>
                        <div>${optionsHtml}</div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function sendResultsEmail(score, correct, wrong, details) {
            const statusEl = document.getElementById('email-status');
            
            const templateParams = {
                student_name: studentName,
                score: score,
                total_questions: questions.length,
                correct_count: correct,
                wrong_count: wrong,
                details: details
            };

            emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    statusEl.textContent = "âœ… Ù†ØªØ§ÛŒØ¬ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø±Ø§ÛŒ Ù…Ø¹Ù„Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.";
                    statusEl.style.color = "#27ae60";
                }, function(error) {
                    console.log('FAILED...', error);
                    statusEl.textContent = "âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù†ØªØ§ÛŒØ¬. Ù„Ø·ÙØ§ Ø§Ø² ØµÙØ­Ù‡ Ø¹Ú©Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.";
                    statusEl.style.color = "#c0392b";
                });
        }
    </script>
</body>
</html>
